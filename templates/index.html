<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ ¡å›­çŒ«å’ªå›¾é‰´</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- å¯¼èˆªæ ï¼ˆæ˜¼å¤œæŒ‰é’®å±…å³ä¸Šè§’ï¼‰ -->
    <nav class="navbar">
        <a href="/" class="logo">æ ¡å›­çŒ«å’ªå›¾é‰´</a>
        <!-- æ˜¼å¤œæ¨¡å¼æŒ‰é’®ï¼ˆå³ä¸Šè§’ï¼‰ -->
        <button class="theme-toggle" id="themeToggle">
            <i class="fas fa-moon"></i>
        </button>
    </nav>

    <!-- å…¨å±å°é¢ï¼ˆæ ‡é¢˜ä¸ºâ€œå–µå–µå–µâ€ï¼‰ -->
    <section class="hero-banner">
        <h1>å–µå–µå–µ</h1>
        <p>è®°å½•æ ¡å›­é‡Œå¯çˆ±çš„æ¯›å­©å­</p>
    </section>

    <!-- æœç´¢åŒºåŸŸ -->
    <section class="search-container">
        <input type="text" class="search-input" placeholder="æœç´¢çŒ«å’ªåå­—æˆ–æè¿°...">
    </section>

    <!-- çŒ«å’ªå¡ç‰‡ç€‘å¸ƒæµï¼ˆç§»é™¤æ€§åˆ«ä¿¡æ¯ï¼‰ -->
    <section class="cat-gallery">
        {% for cat in cats %}
        <div class="cat-card">
            <!-- ç»å¯¹è·¯å¾„è·³è½¬è¯¦æƒ…é¡µ -->
            <a href="/detail/{{ cat.id }}" style="width: 100%; height: 100%; display: block;">
                <img src="{{ url_for('static', filename='images/' + cat.img) }}" alt="{{ cat.name }}" class="cat-img">
                <!-- æ‚¬æµ®ä¿¡æ¯å±‚ï¼ˆç§»é™¤æ€§åˆ«ï¼‰ -->
                <div class="cat-info-overlay">
                    <h3 class="overlay-name">{{ cat.name }}</h3>
                    <p class="overlay-desc">æ€§æ ¼ï¼š{{ cat.personality }}</p>
                    <p class="overlay-desc">å‡ºæ²¡åœ°ï¼š{{ cat.location }}</p>
                    <div class="overlay-actions">
                        <a href="/edit_cat/{{ cat.id }}">âœï¸ ç¼–è¾‘</a>
                        <a href="/delete_cat/{{ cat.id }}">ğŸ—‘ï¸ åˆ é™¤</a>
                    </div>
                </div>
            </a>
        </div>
        {% endfor %}

        <!-- æ–°å¢çŒ«å’ªæŒ‰é’® -->
        <a href="/add_cat" class="add-btn">
            + æ–°å¢çŒ«å’ª
        </a>
    </section>

    <!-- äºŒç»´ç å±•ç¤ºåŒº -->
    <div class="qrcode-container">
        <h3>ğŸ“± ç½‘ç«™å¿«é€Ÿè®¿é—®äºŒç»´ç </h3>
        <img src="{{ url_for('static', filename='images/website_qrcode.png') }}" alt="ç½‘ç«™è®¿é—®äºŒç»´ç ">
        <p>æ‰«æäºŒç»´ç å³å¯å¿«é€Ÿè®¿é—®æ ¡å›­çŒ«å’ªå›¾é‰´</p>
    </div>

    <!-- åº•éƒ¨ -->
    <footer class="footer">
        <p>Â© 2026 æ ¡å›­çŒ«å’ªæ‘„å½±çˆ±å¥½è€… | åŸºäºPython Flaskå¼€å‘</p>
    </footer>

    <!-- åŠŸèƒ½JS -->
    <script>
        // æ˜¼å¤œæ¨¡å¼åˆ‡æ¢
        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;
        const moonIcon = '<i class="fas fa-moon"></i>';
        const sunIcon = '<i class="fas fa-sun"></i>';

        // åˆå§‹åŒ–æ¨¡å¼
        if (localStorage.getItem('darkMode') === 'true') {
            body.classList.add('dark-mode');
            themeToggle.innerHTML = sunIcon;
        }

        // ç‚¹å‡»åˆ‡æ¢
        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDark);
            themeToggle.innerHTML = isDark ? sunIcon : moonIcon;
        });

        // æœç´¢åŠŸèƒ½
        const searchInput = document.querySelector('.search-input');
        searchInput.addEventListener('input', (e) => {
            const keyword = e.target.value.toLowerCase();
            const catCards = document.querySelectorAll('.cat-card');
            catCards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(keyword) ? 'block' : 'none';
            });
        });
    </script>
</body>
</html>